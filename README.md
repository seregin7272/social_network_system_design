### System Design social network
System Design социальной сети для курса по [system design](https://balun.courses/courses/system_design) 
***
#### Функциональные требования:
Друзья:
  * Добавить или удалить друга
  * Посмотреть друзей у пользователя
  * Показать есть пользователь онлайн сейчас
  
Профиль пользователя:
  * интересы
  * отношения
  * город
  * о себе
  * главная фото профиля
  
Пользователь онлайн сейчас или когда был последний раз в сети:
  * в профили
  * в чате
  * в личных сообщениях 

Посты:
  * Добавить пост в ленту (текст)
  * Загрузить к посту (видео, аудио, изображения)
  * Удалить свой пост
  * Хэштеги
  * Посмотреть ленту у пользователя
  * Лайки
  * Посмотреть кто лайкнул
  * Количество просмотров поста


Сообщения (Личные сообщения и Чаты):
 * Доставлено сообщения
 * Прочитано сообщение
 * Список участников чата
 * Название чата и иконка

***
##### Нефункциональные требования
Пользователей: 100 миллионов

Активных пользователей в день: 47 000 000

***Сообщения:***

Длинна 1 сообщения 1200 символов  

Сообщения в день на 1 пользователя:  
Создает: 10 шт.  
Чтение сообщений: 30 шт. 


***Посты:***  

Длинна поста 3000 символов  
Можно прикрепить: 
видео (1шт, не более 100MB)    
аудио (10 шт, не более 5 MB)    
изображения (10 шт, не более 1MB)

Постов в день на 1 пользователя:  
Создает: 3 шт.    
Чтение сообщений: 15 шт.  

Сезонности нет  
Геораспределенность есть
***

#### Расчет:
Размер базы данных для хранения сообщений на 5 лет:  
47000000 * 10 * 2400 * 365 * 5 = 2PT

Кол-во шардов для базы данных сообщений:  


Входящий трафик на создание постов:  
1632 * 6000 = 10MB/s

RPS по созданию, чтению постов:  
Чтение текст:   
47 000 000 * 15 / 86400 = 81160    
Создание текст:  
47 000 000 * 3 / 86400 = 1632